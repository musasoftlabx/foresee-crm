(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{4764:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return t(3361)}])},2895:function(e,n,t){"use strict";t.d(n,{Z:function(){return D}});var i=t(4924),r=t(6042),s=t(9396),o=t(828),a=t(5893),c=t(7294),d=t(1163),u=t(1719),l=t(2097),h=t(3789),x=t(3481),f=t(684),p=t(5050),g=t(784),m=t(5214),Z=t(9630),j=t(562),w=t(5434),b=t(5309),y=t(9894),v=t(1702),k=t(3642),A=t(9583),C=t(1872),_=t(5084),S=function(e){return{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",borderRight:0}},P=function(e){return(0,i.Z)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(8)," + 1px)")})},R=(0,u.ZP)("div")(function(e){var n=e.theme;return(0,r.Z)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:n.spacing(0,1)},n.mixins.toolbar)}),E=(0,u.ZP)(p.Z,{shouldForwardProp:function(e){return"open"!==e}})(function(e){var n=e.theme,t=e.open;return(0,r.Z)({zIndex:n.zIndex.drawer+1,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen})},t&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})})}),N=(0,u.ZP)(f.ZP,{shouldForwardProp:function(e){return"open"!==e}})(function(e){var n=e.theme,t=e.open;return(0,r.Z)({width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},t&&(0,s.Z)((0,r.Z)({},S(n)),{"& .MuiDrawer-paper":S(n)}),!t&&(0,s.Z)((0,r.Z)({},P(n)),{"& .MuiDrawer-paper":P(n)}))});function D(e){var n=e.children,t=(0,d.useRouter)();(0,l.Z)();var i=(0,o.Z)(c.useState(!0),2),r=i[0],s=i[1],u=function(){s(function(e){return e=!e})};return(0,a.jsxs)(h.Z,{sx:{display:"flex"},children:[(0,a.jsx)(E,{position:"fixed",color:"white",sx:{boxShadow:"unset",px:0},children:(0,a.jsxs)(g.Z,{disableGutters:!0,children:[(0,a.jsx)(j.Z,{onClick:u,children:(0,a.jsx)(w.EJ4,{})}),(0,a.jsx)(Z.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Foresee CRM"}),(0,a.jsx)(_.Z,{variant:"text",onClick:function(){return t.replace("/login")},children:"LOGOUT"})]})}),(0,a.jsxs)(N,{variant:"permanent",open:r,children:[(0,a.jsx)(g.Z,{}),(0,a.jsx)(m.Z,{children:[{name:"Home",route:"/",icon:(0,a.jsx)(k.icj,{style:{width:20,height:20}}),iconAlt:"",selected:!0},{name:"Create Quotation",route:"/quotation",icon:(0,a.jsx)(k.bBH,{style:{width:20,height:20}}),iconAlt:"",selected:!1},{name:"View Tickets",route:"/tickets",icon:(0,a.jsx)(k.xNr,{style:{width:20,height:20}}),iconAlt:"",selected:!1},{name:"User Management",route:"/users",icon:(0,a.jsx)(A.B8A,{style:{width:20,height:20}}),iconAlt:"",selected:!1},{name:"Categories",route:"/categories/",icon:(0,a.jsx)(A.B8A,{style:{width:20,height:20}}),iconAlt:"",selected:!1,expanded:!0,children:[{name:"All Categories",route:"/categories/",icon:(0,a.jsx)(C.fOH,{style:{width:20,height:20}}),iconAlt:"",selected:!1},{name:"Add Category",route:"/categories/add",icon:(0,a.jsx)(C.qVg,{style:{width:20,height:20}}),iconAlt:"",selected:!1},]},{name:"Stores",route:"/stores",icon:(0,a.jsx)(A.B8A,{style:{width:20,height:20}}),iconAlt:"",selected:!1},].map(function(e,n){return(0,a.jsxs)(c.Fragment,{children:[(0,a.jsxs)(b.Z,{selected:e.route===t.route,onClick:function(){return e.children?e.expanded=!e.expanded:t.push(e.route)},sx:{minHeight:48,justifyContent:r?"initial":"center",borderBottomRightRadius:20,borderTopRightRadius:20,mr:3,"&.Mui-selected":{color:"#fff",fontWeight:"bold",backgroundImage:"linear-gradient(to right, #77609a 0%, #d48383 100%)",borderBottomRightRadius:20,borderTopRightRadius:20,mr:3,boxShadow:"rgba(0, 0, 0, 0.36) 0px 10px 30px 1px",transition:"transform 1s","&:hover":{backgroundImage:"linear-gradient(to left, #77609a 0%, #d48383 100%)",transform:"scale(1.05)"}}},children:[(0,a.jsx)(y.Z,{sx:{minWidth:0,mr:r?2:"auto",justifyContent:"center",color:"inherit"},children:e.icon}),(0,a.jsx)(v.Z,{primary:e.name,sx:{opacity:r?1:0}}),e.children&&(e.expanded?(0,a.jsx)(w.Faw,{}):(0,a.jsx)(w.Yc6,{}))]},e.name),e.children&&(0,a.jsx)(x.Z,{in:e.expanded,timeout:"auto",unmountOnExit:!0,children:(0,a.jsx)(m.Z,{component:"div",disablePadding:!0,children:e.children.map(function(e,n){return(0,a.jsxs)(b.Z,{onClick:function(){return t.push(e.route)},sx:{pl:4},children:[(0,a.jsx)(y.Z,{children:e.icon}),(0,a.jsx)(v.Z,{primary:e.name})]},n)})})})]},n)})})]}),(0,a.jsxs)(h.Z,{component:"main",sx:{flexGrow:1,p:3},children:[(0,a.jsx)(R,{}),n]})]})}},3361:function(e,n,t){"use strict";t.r(n);var i=t(6042),r=t(9396),s=t(9815),o=t(5893),a=t(196),c=t(1503),d=t(8228),u=t(5084),l=t(562),h=t(244),x=t(9807),f=t(5605),p=t(6777),g=t(3978),m=t(9417),Z=t(918),j=t(9352),w=t(9442),b=t(2912),y=t(2895),v=t(2123),k=function(){var e=(0,w.L)(function(e){return e.toggle}),n=(0,c.a)(["GetDomains"],function(e){var n=e.queryKey;return a.ZP.get(n[0])},{refetchOnWindowFocus:!1}).data,t=(0,c.a)(["Users"],function(e){var n=e.queryKey;return a.ZP.get(n[0])},{select:function(e){return e.data}}).data,k=(0,d.D)(function(e){return a.ZP.delete("Users/".concat(e))}).mutate;return(0,o.jsxs)(y.Z,{children:[(0,o.jsx)(v.Z,{domains:n}),(0,o.jsx)(u.Z,{variant:"outlined",onClick:e,children:"ADD A NEW USER"}),(0,o.jsx)(p.Z,{component:Z.Z,children:(0,o.jsxs)(h.Z,{sx:{mt:3,minWidth:650},size:"small",children:[(0,o.jsx)(g.Z,{children:(0,o.jsx)(m.Z,{children:t&&t.columns.map(function(e,n){return(0,o.jsx)(f.Z,{children:e},n)})})}),(0,o.jsx)(x.Z,{children:t&&t.rows.map(function(e,n){return(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(f.Z,{children:e.firstName}),(0,o.jsx)(f.Z,{children:e.lastName}),(0,o.jsx)(f.Z,{children:e.username}),(0,o.jsx)(f.Z,{children:e.emailAddress}),(0,o.jsx)(f.Z,{children:e.domain}),(0,o.jsx)(f.Z,{children:e.createdAt}),(0,o.jsx)(f.Z,{children:(0,o.jsx)(l.Z,{color:"error",sx:{background:"#ffeeee","&:hover":{background:"#fbdbdb"}},children:(0,o.jsx)(j.w6k,{onClick:function(){var n;return k(n=e._id,{onSuccess:function(){b.queryClient.setQueryData(["Users"],function(e){return(0,r.Z)((0,i.Z)({},e),{data:(0,r.Z)((0,i.Z)({},e.data),{rows:(0,s.Z)(e.data.rows.filter(function(e){return e._id!==n}))})})})},onError:function(e){showAlert({status:e.response.data.status,subject:e.response.data.subject,body:e.response.data.body})}})}})})})]},n)})})]})})]})};n.default=k}},function(e){e.O(0,[937,228,994,415,930,14,72,264,198,6,508,863,123,774,888,179],function(){return e(e.s=4764)}),_N_E=e.O()}]);